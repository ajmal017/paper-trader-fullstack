[{"/home/leungjch/Documents/uw/repos/paper-trader/client/src/index.js":"1","/home/leungjch/Documents/uw/repos/paper-trader/client/src/App.js":"2","/home/leungjch/Documents/uw/repos/paper-trader/client/src/reportWebVitals.js":"3","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/LoginPage.js":"4","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/PortfolioPage.js":"5","/home/leungjch/Documents/uw/repos/paper-trader/client/src/UserContext.js":"6","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/HistoryPage.js":"7","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/BuyPage.js":"8","/home/leungjch/Documents/uw/repos/paper-trader/client/src/helper-functions/cleanStockData.js":"9","/home/leungjch/Documents/uw/repos/paper-trader/client/src/components/PrivateRoute.js":"10"},{"size":500,"mtime":1608867010145,"results":"11","hashOfConfig":"12"},{"size":1847,"mtime":1609022747347,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1608867010145,"results":"14","hashOfConfig":"12"},{"size":2893,"mtime":1609022066460,"results":"15","hashOfConfig":"12"},{"size":1891,"mtime":1609005475102,"results":"16","hashOfConfig":"12"},{"size":735,"mtime":1609005095177,"results":"17","hashOfConfig":"12"},{"size":1708,"mtime":1609006128748,"results":"18","hashOfConfig":"12"},{"size":1616,"mtime":1609020420865,"results":"19","hashOfConfig":"12"},{"size":597,"mtime":1609020362418,"results":"20","hashOfConfig":"12"},{"size":645,"mtime":1609022732251,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"pb2wml",{"filePath":"25","messages":"26","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"24"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"24"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"24"},"/home/leungjch/Documents/uw/repos/paper-trader/client/src/index.js",[],["50","51"],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/App.js",["52","53","54","55"],"import React, { useContext } from \"react\";\nimport { Button, Form } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport { PrivateRoute } from './components/PrivateRoute'\nimport { UserContext, UserProvider } from './UserContext';\n\nimport { LoginPage } from './pages/LoginPage'\nimport { PortfolioPage } from './pages/PortfolioPage'\nimport { HistoryPage } from './pages/HistoryPage'\nimport { BuyPage } from './pages/BuyPage'\n\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\n\nexport default function App() {\n\n\n\n  const { user } = useContext(UserContext);\n  console.log(\"User auth from app.js\", user)\n  \n\n  return (\n    <UserProvider>\n      <Router>\n        <div>\n          <nav>\n            <ul>\n              {/* <li>\n              <Link to=\"/login\">Login</Link>\n            </li> */}\n              <li>\n                <Link to=\"/portfolio\">Portfolio</Link>\n              </li>\n              <li>\n                <Link to=\"/buy\">Buy</Link>\n              </li>\n              <li>\n                <Link to=\"/sell\">Sell</Link>\n              </li>\n              <li>\n                <Link to=\"/history\">Transaction History</Link>\n              </li>\n            </ul>\n          </nav>\n\n          <Routes>\n            <Route path=\"/login\" element={<LoginPage />} />\n            <PrivateRoute path={\"/portfolio\"} component={PortfolioPage} />\n            <PrivateRoute path={\"/buy\"} component={BuyPage}  />\n            <PrivateRoute path={\"/sell\"} component={SellPage}  />\n            <PrivateRoute path={\"/history\"} component={HistoryPage} />\n            <Route path=\"/\" element={<LoginPage />} />\n          </Routes>\n        </div>\n      </Router>\n    </UserProvider>\n\n  );\n}\n\nfunction SellPage() {\n  return <h2>Sell</h2>;\n}\n\n","/home/leungjch/Documents/uw/repos/paper-trader/client/src/reportWebVitals.js",[],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/LoginPage.js",["56","57","58","59"],"import React, { useState, useContext } from \"react\";\nimport { Button, ButtonGroup, Form } from 'react-bootstrap';\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { UserContext } from '../UserContext';\n\n\nfunction LoginPage() {\n  \n  const { login } = useContext(UserContext);\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  \n    // Router navigator\n  const navigate = useNavigate();\n\n  function getUser() {\n    console.log(\"Client: Getuser request\");\n    fetch('/api/users')\n      .then((response) => response.json())\n      .then((data) => console.log(\"Client: Received getuser data\", data));\n  }\n\n  // Logic for handling authentication\n  function verifyUser() {\n    console.log(\"User request is\", \"/api/users/\" + username)\n    fetch('/api/users/' + username)\n    .then((response) => response.json())\n    .then((data) => {\n      console.log(\"Client: Received request data\", data);\n      // Usernames must be unique\n      if (data.length == 1 && data[0]['hash_password'] == password) {\n\n        // User is authenticated\n        console.log(\"User authenticated!\")\n        login(username, data[0]['id']);\n\n        // Redirect to portfolio page\n        navigate(\"/portfolio\");\n\n      } else {\n        alert(\"Incorrect username or password\");\n      }\n    })\n  }\n\n  // Guest login\n  function loginAsGuest() {\n    setUsername(\"Guest\")\n    setPassword(\"hunter2\")\n    verifyUser();\n  }\n\n  // Register a new user\n  function addUser() {\n    let username = prompt(\"Enter name\")\n    let hash_password = prompt(\"Enter password\");\n    let cash = prompt(\"Enter cash\")\n    fetch('/api/users', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ username, hash_password, cash })\n    })\n      .then(data => {\n        alert(data);\n        getUser();\n      })\n  }\n\n  return (\n    <div className=\"LoginPage\">\n      <Form>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)} />\n          <Form.Text className=\"text-muted\">\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)} />\n        </Form.Group>\n        <ButtonGroup>\n          <Button\n          variant=\"primary\"\n          // type=\"submit\"\n          onClick = {verifyUser}>\n            Submit\n       </Button>\n          <Button \n          variant=\"info\"\n          onClick = {loginAsGuest}>\n            Guest mode\n       </Button>\n        </ButtonGroup>\n      </Form>\n    </div>\n  );\n}\n\nexport { LoginPage };\n","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/PortfolioPage.js",["60","61","62","63","64","65","66","67","68","69"],"import React, { useState, useEffect, useContext } from \"react\";\nimport { Button, ButtonGroup, Form, Table } from 'react-bootstrap';\nimport { UserContext, UserProvider } from '../UserContext';\n\nfunction PortfolioPage() {\n\n    const [username, setUsername] = useState(\"\")\n    const [userId, setUserId] = useState(\"\")\n\n    const [authenticated, setAuthenticated] = useState(false)\n    const [portfolioData, setPortfolioData] = useState([])\n\n    const { user } = useContext(UserContext);\n\n\n    // Fetch portfolio data for user from DB\n    function getPortfolio() {\n        console.log(\"Portfolio request is\", \"/api/portfolio/\" + userId)\n        fetch('/api/portfolio/' + userId)\n            .then((response) => response.json())\n            .then((data) => {\n                console.log(\"Client: Loaded portfolio data\", data);\n                console.log(\"User info is, \", user)\n                setPortfolioData(data);\n            })\n    }\n\n    function renderPortfolioRow(item, index) {\n        return (\n            <tr key={index}>\n                <td>{item.ticker}</td>\n                <td>{item.n_holding}</td>\n                <td>${item.current_price}</td>\n                <td>${item.current_total}</td>\n            </tr>\n        )\n    }\n\n    useEffect(() => {\n        // Fetch portfolio data\n        getPortfolio()\n    }, []);\n\n    return (\n        <div>\n            <h2> Your Portfolio </h2>\n            <Table striped hover>\n                <thead>\n                    <tr>\n                        <th>Ticker</th>\n                        <th>Number of shares</th>\n                        <th>Current price</th>\n                        <th>Total value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {portfolioData.map(renderPortfolioRow)}\n                </tbody>\n            </Table>\n        </div>\n    );\n}\n\nexport { PortfolioPage };\n","/home/leungjch/Documents/uw/repos/paper-trader/client/src/UserContext.js",[],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/HistoryPage.js",["70","71","72","73","74"],"import React, { useState, useEffect, useContext } from \"react\";\nimport { Button, ButtonGroup, Form, Table } from 'react-bootstrap';\nimport { UserContext, UserProvider } from '../UserContext';\n\nfunction HistoryPage() {\n\n    const [historyData, setHistoryData] = useState([])\n    const { user } = useContext(UserContext);\n\n    // Fetch portfolio data for user from DB\n    function getHistory() {\n        console.log()\n        console.log(\"History request is\", \"/api/history/\" + user.id)\n        fetch('/api/history/' + user.id)\n            .then((response) => response.json())\n            .then((data) => {\n                console.log(\"Client: Loaded history data\", data);\n                setHistoryData(data);\n            })\n    }\n\n    function renderHistoryRow(item, index) {\n        return (\n          <tr key={index}>\n            <td>{item.ticker}</td>\n            <td>{item.trade_type}</td>\n            <td>{item.trade_n}</td>\n            <td>{item.price}</td>\n            <td>{item.date}</td>\n          </tr>\n        )\n      }\n\n    useEffect(() => {\n        // Fetch portfolio data\n        getHistory()\n    }, []);\n\n    return (\n        <div>\n            <h2> Transaction History </h2>\n\n            <Table striped hover>\n                <thead>\n                    <tr>\n                        <th>Ticker</th>\n                        <th>Action</th>\n                        <th>Number of shares</th>\n                        <th>Price</th>\n                        <th>Date</th>\n\n                    </tr>\n                </thead>\n                <tbody>\n                    {historyData.map(renderHistoryRow)}\n                </tbody>\n            </Table>\n        </div>\n    );\n}\n\nexport { HistoryPage };\n","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/BuyPage.js",["75","76"],"import React, { useState, useEffect } from \"react\";\nimport { Button, ButtonGroup, Form, Table } from 'react-bootstrap';\nimport cleanStockData from \"../helper-functions/cleanStockData\"\n\nfunction BuyPage() {\n\n    const [requestTicker, setRequestTicker] = useState(\"\")\n    const [stockData, setStockData] = useState({})\n\n    function getQuote() {\n        console.log(\"User request is\", \"/api/search/\" + requestTicker)\n        fetch('/api/search/' + requestTicker)\n        .then((response) => response.json())\n        .then((data) => {\n\n          console.log(\"Client: Received stock data\", data);\n\n          // If returned object is empty\n          if (data['empty'] ){\n            alert(\"Invalid stock ticker\")\n          } else {\n\n              setStockData(cleanStockData(data));\n              console.log(stockData)\n\n          }\n        })\n      }\n\n    return (\n    <div>\n        <Form>\n            <Form.Group controlId=\"formBasicEmail\">\n                <Form.Label>Username</Form.Label>\n                <Form.Control\n                    type=\"text\"\n                    placeholder=\"Enter Ticker (TSLA, WMT, GOOG...)\"\n                    onChange={(e) => setRequestTicker(e.target.value)} />\n                <Form.Text className=\"text-muted\">\n                </Form.Text>\n            </Form.Group>\n            <ButtonGroup>\n                <Button\n                    variant=\"primary\"\n                    // type=\"submit\"\n                    onClick={getQuote}>\n                    Request Quote\n                </Button>\n            </ButtonGroup>\n        </Form>\n\n        \n\n    </div>\n    );\n}\n\nexport { BuyPage }","/home/leungjch/Documents/uw/repos/paper-trader/client/src/helper-functions/cleanStockData.js",[],["77","78"],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/components/PrivateRoute.js",["79","80","81","82","83","84","85"],"import React, {useContext} from \"react\";\nimport {\n    BrowserRouter as Router,\n    Routes,\n    Route,\n    Redirect,\n    Link,\n    Navigate\n  } from \"react-router-dom\";\n  import { useNavigate, useLocation } from \"react-router-dom\";\n  import { UserContext, UserProvider } from '../UserContext';\n\n\nconst PrivateRoute = ({component: Component, path, ...props }) => {\n    const navigate = useNavigate();\n    const { user } = useContext(UserContext);\n\n    if (!user.auth) {\n        return <Navigate to='/login'/>\n    } else {\n        return (\n            <Route path={path} element = {<Component />} />\n        )\n    }\n\n  }\n\n  export { PrivateRoute} ;",{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":2,"column":10,"nodeType":"92","messageId":"93","endLine":2,"endColumn":16},{"ruleId":"90","severity":1,"message":"94","line":2,"column":18,"nodeType":"92","messageId":"93","endLine":2,"endColumn":22},{"ruleId":"90","severity":1,"message":"95","line":18,"column":10,"nodeType":"92","messageId":"93","endLine":18,"endColumn":21},{"ruleId":"90","severity":1,"message":"96","line":18,"column":23,"nodeType":"92","messageId":"93","endLine":18,"endColumn":34},{"ruleId":"90","severity":1,"message":"96","line":3,"column":23,"nodeType":"92","messageId":"93","endLine":3,"endColumn":34},{"ruleId":"97","severity":1,"message":"98","line":32,"column":23,"nodeType":"99","messageId":"100","endLine":32,"endColumn":25},{"ruleId":"97","severity":1,"message":"98","line":32,"column":56,"nodeType":"99","messageId":"100","endLine":32,"endColumn":58},{"ruleId":"90","severity":1,"message":"101","line":55,"column":12,"nodeType":"92","messageId":"93","endLine":55,"endColumn":19},{"ruleId":"90","severity":1,"message":"91","line":2,"column":10,"nodeType":"92","messageId":"93","endLine":2,"endColumn":16},{"ruleId":"90","severity":1,"message":"102","line":2,"column":18,"nodeType":"92","messageId":"93","endLine":2,"endColumn":29},{"ruleId":"90","severity":1,"message":"94","line":2,"column":31,"nodeType":"92","messageId":"93","endLine":2,"endColumn":35},{"ruleId":"90","severity":1,"message":"103","line":3,"column":23,"nodeType":"92","messageId":"93","endLine":3,"endColumn":35},{"ruleId":"90","severity":1,"message":"104","line":7,"column":12,"nodeType":"92","messageId":"93","endLine":7,"endColumn":20},{"ruleId":"90","severity":1,"message":"105","line":7,"column":22,"nodeType":"92","messageId":"93","endLine":7,"endColumn":33},{"ruleId":"90","severity":1,"message":"106","line":8,"column":20,"nodeType":"92","messageId":"93","endLine":8,"endColumn":29},{"ruleId":"90","severity":1,"message":"107","line":10,"column":12,"nodeType":"92","messageId":"93","endLine":10,"endColumn":25},{"ruleId":"90","severity":1,"message":"108","line":10,"column":27,"nodeType":"92","messageId":"93","endLine":10,"endColumn":43},{"ruleId":"109","severity":1,"message":"110","line":42,"column":8,"nodeType":"111","endLine":42,"endColumn":10,"suggestions":"112"},{"ruleId":"90","severity":1,"message":"91","line":2,"column":10,"nodeType":"92","messageId":"93","endLine":2,"endColumn":16},{"ruleId":"90","severity":1,"message":"102","line":2,"column":18,"nodeType":"92","messageId":"93","endLine":2,"endColumn":29},{"ruleId":"90","severity":1,"message":"94","line":2,"column":31,"nodeType":"92","messageId":"93","endLine":2,"endColumn":35},{"ruleId":"90","severity":1,"message":"103","line":3,"column":23,"nodeType":"92","messageId":"93","endLine":3,"endColumn":35},{"ruleId":"109","severity":1,"message":"113","line":37,"column":8,"nodeType":"111","endLine":37,"endColumn":10,"suggestions":"114"},{"ruleId":"90","severity":1,"message":"115","line":1,"column":27,"nodeType":"92","messageId":"93","endLine":1,"endColumn":36},{"ruleId":"90","severity":1,"message":"116","line":2,"column":37,"nodeType":"92","messageId":"93","endLine":2,"endColumn":42},{"ruleId":"86","replacedBy":"117"},{"ruleId":"88","replacedBy":"118"},{"ruleId":"90","severity":1,"message":"119","line":3,"column":22,"nodeType":"92","messageId":"93","endLine":3,"endColumn":28},{"ruleId":"90","severity":1,"message":"120","line":4,"column":5,"nodeType":"92","messageId":"93","endLine":4,"endColumn":11},{"ruleId":"90","severity":1,"message":"121","line":6,"column":5,"nodeType":"92","messageId":"93","endLine":6,"endColumn":13},{"ruleId":"90","severity":1,"message":"122","line":7,"column":5,"nodeType":"92","messageId":"93","endLine":7,"endColumn":9},{"ruleId":"90","severity":1,"message":"96","line":10,"column":25,"nodeType":"92","messageId":"93","endLine":10,"endColumn":36},{"ruleId":"90","severity":1,"message":"103","line":11,"column":25,"nodeType":"92","messageId":"93","endLine":11,"endColumn":37},{"ruleId":"90","severity":1,"message":"123","line":15,"column":11,"nodeType":"92","messageId":"93","endLine":15,"endColumn":19},"no-native-reassign",["124"],"no-negated-in-lhs",["125"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'useNavigate' is defined but never used.","'useLocation' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'addUser' is defined but never used.","'ButtonGroup' is defined but never used.","'UserProvider' is defined but never used.","'username' is assigned a value but never used.","'setUsername' is assigned a value but never used.","'setUserId' is assigned a value but never used.","'authenticated' is assigned a value but never used.","'setAuthenticated' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getPortfolio'. Either include it or remove the dependency array.","ArrayExpression",["126"],"React Hook useEffect has a missing dependency: 'getHistory'. Either include it or remove the dependency array.",["127"],"'useEffect' is defined but never used.","'Table' is defined but never used.",["124"],["125"],"'Router' is defined but never used.","'Routes' is defined but never used.","'Redirect' is defined but never used.","'Link' is defined but never used.","'navigate' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"128","fix":"129"},{"desc":"130","fix":"131"},"Update the dependencies array to be: [getPortfolio]",{"range":"132","text":"133"},"Update the dependencies array to be: [getHistory]",{"range":"134","text":"135"},[1323,1325],"[getPortfolio]",[1114,1116],"[getHistory]"]