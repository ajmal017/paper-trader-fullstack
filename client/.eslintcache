[{"/home/leungjch/Documents/uw/repos/paper-trader/client/src/index.js":"1","/home/leungjch/Documents/uw/repos/paper-trader/client/src/App.js":"2","/home/leungjch/Documents/uw/repos/paper-trader/client/src/reportWebVitals.js":"3","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/LoginPage.js":"4","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/PortfolioPage.js":"5"},{"size":500,"mtime":1608867010145,"results":"6","hashOfConfig":"7"},{"size":1721,"mtime":1608965516079,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":1608867010145,"results":"9","hashOfConfig":"7"},{"size":2984,"mtime":1608963506779,"results":"10","hashOfConfig":"7"},{"size":1875,"mtime":1608963146758,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"pb2wml",{"filePath":"15","messages":"16","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"14"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"14"},"/home/leungjch/Documents/uw/repos/paper-trader/client/src/index.js",[],["25","26"],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/App.js",["27","28"],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/reportWebVitals.js",[],"/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/LoginPage.js",["29","30","31","32","33","34","35","36"],"import React, { useState } from \"react\";\nimport { Button, ButtonGroup, Form } from 'react-bootstrap';\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nfunction LoginPage() {\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [userId, setUserId] = useState(\"\")\n  const [authenticated, setAuthenticated] = useState(false)\n  \n    // Router navigator\n  const navigate = useNavigate();\n\n\n  function getUser() {\n    console.log(\"Client: Getuser request\");\n    fetch('/api/users')\n      .then((response) => response.json())\n      .then((data) => console.log(\"Client: Received getuser data\", data));\n  }\n\n  // Logic for handling authentication\n  function verifyUser() {\n    console.log(\"User request is\", \"/api/users/\" + username)\n    fetch('/api/users/' + username)\n    .then((response) => response.json())\n    .then((data) => {\n      console.log(\"Client: Received request data\", data);\n      // Usernames must be unique\n      if (data.length == 1 && data[0]['hash_password'] == password) {\n\n        // User is authenticated\n        console.log(\"User authenticated!\")\n        setAuthenticated(true);\n\n        // Redirect to portfolio page\n        navigate(\n          \"/portfolio\", \n          { state: {username: username, userId: data[0]['id']}}\n        );\n\n      } else {\n        alert(\"Incorrect username or password\");\n      }\n      \n      \n    })\n\n  }\n\n  function loginAsGuest() {\n    setUsername(\"Guest\")\n    setPassword(\"hunter2\")\n    verifyUser();\n  }\n\n  function addUser() {\n    let username = prompt(\"Enter name\")\n    let hash_password = prompt(\"Enter password\");\n    let cash = prompt(\"Enter cash\")\n    fetch('/api/users', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ username, hash_password, cash })\n    })\n      .then(data => {\n        alert(data);\n        getUser();\n      })\n  }\n\n  function verifyLogin() {\n      \n  }\n\n\n  return (\n    <div className=\"LoginPage\">\n      <Form>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)} />\n          <Form.Text className=\"text-muted\">\n          </Form.Text>\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)} />\n        </Form.Group>\n        <ButtonGroup>\n          <Button\n          variant=\"primary\"\n          // type=\"submit\"\n          onClick = {verifyUser}>\n            Submit\n       </Button>\n          <Button \n          variant=\"info\"\n          onClick = {loginAsGuest}>\n            Guest mode\n       </Button>\n\n        </ButtonGroup>\n\n      </Form>\n    </div>\n  );\n}\n\nexport { LoginPage };\n","/home/leungjch/Documents/uw/repos/paper-trader/client/src/pages/PortfolioPage.js",["37","38","39","40","41","42","43","44","45","46","47"],"import React, { useState, useEffect } from \"react\";\nimport { Button, ButtonGroup, Form, Table } from 'react-bootstrap';\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nconst PortfolioPage = (props) => {\n    \n\n    const [username, setUsername] = useState(\"\")\n    const [userId, setUserId] = useState(\"\")\n\n    const [authenticated, setAuthenticated] = useState(false)\n    const [portfolioData, setPortfolioData] = useState([])\n\n    const navigate = useNavigate();\n    const {state} = useLocation();\n\n    // Fetch portfolio data for user from DB\n    function getPortfolio() {\n        console.log(\"User request is\", \"/api/portfolio/\" + username)\n        fetch('/api/portfolio/' + username)\n            .then((response) => response.json())\n            .then((data) => {\n                console.log(\"Client: Loaded portfolio data\", data);\n                setPortfolioData(data);\n            })\n    }\n\n    function renderPortfolioRow(item, index) {\n        return (\n          <tr key={index}>\n            <td>{item.ticker}</td>\n            <td>{item.n_holding}</td>\n            <td>${item.current_price}</td>\n            <td>${item.current_total}</td>\n          </tr>\n        )\n      }\n\n    useEffect(() => {\n        // Fetch portfolio data\n        getPortfolio()\n\n        console.log(props)\n    }, []);\n\n    return (\n        <div>\n            <h2> Your Portfolio </h2>\n\n            <Table striped hover>\n                <thead>\n                    <tr>\n                        <th>Ticker</th>\n                        <th>Number of shares</th>\n                        <th>Current price</th>\n                        <th>Total value</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {portfolioData.map(renderPortfolioRow)}\n                </tbody>\n            </Table>\n        </div>\n    );\n}\n\nexport { PortfolioPage };\n",{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":2,"column":10,"nodeType":"54","messageId":"55","endLine":2,"endColumn":16},{"ruleId":"52","severity":1,"message":"56","line":2,"column":18,"nodeType":"54","messageId":"55","endLine":2,"endColumn":22},{"ruleId":"52","severity":1,"message":"57","line":3,"column":23,"nodeType":"54","messageId":"55","endLine":3,"endColumn":34},{"ruleId":"52","severity":1,"message":"58","line":9,"column":10,"nodeType":"54","messageId":"55","endLine":9,"endColumn":16},{"ruleId":"52","severity":1,"message":"59","line":9,"column":18,"nodeType":"54","messageId":"55","endLine":9,"endColumn":27},{"ruleId":"52","severity":1,"message":"60","line":10,"column":10,"nodeType":"54","messageId":"55","endLine":10,"endColumn":23},{"ruleId":"61","severity":1,"message":"62","line":31,"column":23,"nodeType":"63","messageId":"64","endLine":31,"endColumn":25},{"ruleId":"61","severity":1,"message":"62","line":31,"column":56,"nodeType":"63","messageId":"64","endLine":31,"endColumn":58},{"ruleId":"52","severity":1,"message":"65","line":58,"column":12,"nodeType":"54","messageId":"55","endLine":58,"endColumn":19},{"ruleId":"52","severity":1,"message":"66","line":75,"column":12,"nodeType":"54","messageId":"55","endLine":75,"endColumn":23},{"ruleId":"52","severity":1,"message":"53","line":2,"column":10,"nodeType":"54","messageId":"55","endLine":2,"endColumn":16},{"ruleId":"52","severity":1,"message":"67","line":2,"column":18,"nodeType":"54","messageId":"55","endLine":2,"endColumn":29},{"ruleId":"52","severity":1,"message":"56","line":2,"column":31,"nodeType":"54","messageId":"55","endLine":2,"endColumn":35},{"ruleId":"52","severity":1,"message":"68","line":8,"column":22,"nodeType":"54","messageId":"55","endLine":8,"endColumn":33},{"ruleId":"52","severity":1,"message":"58","line":9,"column":12,"nodeType":"54","messageId":"55","endLine":9,"endColumn":18},{"ruleId":"52","severity":1,"message":"59","line":9,"column":20,"nodeType":"54","messageId":"55","endLine":9,"endColumn":29},{"ruleId":"52","severity":1,"message":"60","line":11,"column":12,"nodeType":"54","messageId":"55","endLine":11,"endColumn":25},{"ruleId":"52","severity":1,"message":"69","line":11,"column":27,"nodeType":"54","messageId":"55","endLine":11,"endColumn":43},{"ruleId":"52","severity":1,"message":"70","line":14,"column":11,"nodeType":"54","messageId":"55","endLine":14,"endColumn":19},{"ruleId":"52","severity":1,"message":"71","line":15,"column":12,"nodeType":"54","messageId":"55","endLine":15,"endColumn":17},{"ruleId":"72","severity":1,"message":"73","line":44,"column":8,"nodeType":"74","endLine":44,"endColumn":10,"suggestions":"75"},"no-native-reassign",["76"],"no-negated-in-lhs",["77"],"no-unused-vars","'Button' is defined but never used.","Identifier","unusedVar","'Form' is defined but never used.","'useLocation' is defined but never used.","'userId' is assigned a value but never used.","'setUserId' is assigned a value but never used.","'authenticated' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'addUser' is defined but never used.","'verifyLogin' is defined but never used.","'ButtonGroup' is defined but never used.","'setUsername' is assigned a value but never used.","'setAuthenticated' is assigned a value but never used.","'navigate' is assigned a value but never used.","'state' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getPortfolio' and 'props'. Either include them or remove the dependency array.","ArrayExpression",["78"],"no-global-assign","no-unsafe-negation",{"desc":"79","fix":"80"},"Update the dependencies array to be: [getPortfolio, props]",{"range":"81","text":"82"},[1306,1308],"[getPortfolio, props]"]